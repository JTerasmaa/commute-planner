<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tallinn Tram 1 – Balti jaam & Tallinna Ülikool Times</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body { font-family: sans-serif; background: #f7faff; max-width: 420px; margin: 2em auto; padding: 1.5em; border-radius: 14px; box-shadow: 0 4px 16px #0002;}
    h1 { font-size: 1.2em; }
    select { font-size: 1em; margin: 0.5em 0; padding: 0.3em 0.8em;}
    #times { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px #0001; padding: 1em; margin-top: 1em;}
    .meta { font-size: .87em; color: #888; margin-top: 2em;}
    @media (max-width: 600px) { body { margin:0.5em; padding:0.7em; } }
  </style>
</head>
<body>
  <h1>Tallinn Tram 1: Balti jaam & Tallinna Ülikool Timetables</h1>
  <label>
    Direction:<br>
    <select id="direction">
      <option value="A">Kopli → Kadriorg (Balti jaam)</option>
      <option value="B">Kadriorg → Kopli (Tallinna Ülikool)</option>
    </select>
  </label>
  <div id="times"></div>
  <div class="meta">
    Source: <a href="https://transport.tallinn.ee/tram1#tram/1/a-b" target="_blank">Tallinna Transport</a>
  </div>
  <script>
    // Timetables: Replace/expand as needed. Data as of Spring 2024. Double check for seasonal changes!
    // Weekday schedule (Mon–Fri, day service)
    const timetable = {
      "A": { // Kopli → Kadriorg, Balti jaam stop
        stop: "Balti jaam",
        times: [
          "05:34","05:46","05:58","06:10","06:22","06:34","06:46","06:58",
          "07:10","07:22","07:34","07:46","07:58","08:10","08:22","08:34",
          "08:46","08:58","09:10","09:22","09:34","09:46","09:58","10:10",
          "10:22","10:34","10:46","10:58","11:10","11:22","11:34","11:46",
          "11:58","12:10","12:22","12:34","12:46","12:58","13:10","13:22",
          "13:34","13:46","13:58","14:10","14:22","14:34","14:46","14:58",
          "15:10","15:22","15:34","15:46","15:58","16:10","16:22","16:34",
          "16:46","16:58","17:10","17:22","17:34","17:46","17:58","18:10",
          "18:22","18:34","18:46","18:58","19:10","19:22","19:34","19:46",
          "19:58","20:10","20:22","20:34","20:46","20:58","21:10","21:22",
          "21:34","21:46","21:58","22:10","22:22","22:34","22:46","22:58",
          "23:10","23:22","23:34","23:46"
        ]
      },
      "B": { // Kadriorg → Kopli, Tallinna Ülikool stop
        stop: "Tallinna Ülikool",
        times: [
          "05:48","06:00","06:12","06:24","06:36","06:48","07:00","07:12",
          "07:24","07:36","07:48","08:00","08:12","08:24","08:36","08:48",
          "09:00","09:12","09:24","09:36","09:48","10:00","10:12","10:24",
          "10:36","10:48","11:00","11:12","11:24","11:36","11:48","12:00",
          "12:12","12:24","12:36","12:48","13:00","13:12","13:24","13:36",
          "13:48","14:00","14:12","14:24","14:36","14:48","15:00","15:12",
          "15:24","15:36","15:48","16:00","16:12","16:24","16:36","16:48",
          "17:00","17:12","17:24","17:36","17:48","18:00","18:12","18:24",
          "18:36","18:48","19:00","19:12","19:24","19:36","19:48","20:00",
          "20:12","20:24","20:36","20:48","21:00","21:12","21:24","21:36",
          "21:48","22:00","22:12","22:24","22:36","22:48","23:00","23:12",
          "23:24","23:36","23:48"
        ]
      }
    };

    const dirSel = document.getElementById('direction');
    const timesDiv = document.getElementById('times');

    function updateTimes() {
      const dir = dirSel.value;
      const stop = timetable[dir].stop;
      const times = timetable[dir].times;
      // Get current time in minutes
      const now = new Date();
      const currMin = now.getHours() * 60 + now.getMinutes();
      // Find next 6 departures
      const nextTimes = times.filter(t => {
        const [h,m] = t.split(':').map(Number);
        return h * 60 + m >= currMin;
      }).slice(0, 6);

      timesDiv.innerHTML = `<b>Next departures from ${stop}:</b><br>` +
        (nextTimes.length ? nextTimes.join(", ") : "No more trams today.");
    }

    dirSel.addEventListener('change', updateTimes);

    // Initial render
    updateTimes();
  </script>
</body>
</html>
